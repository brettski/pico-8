pico-8 cartridge // http://www.pico-8.com
version 22
__lua__
--cannon
--brettski

function _init()
 startgame()
end

function _update60()
 upd_bg()
 upd_cannon()

end

function _draw()
 cls(12)
 drw_bg()
 --drw_plr()
 drw_cannon()
end
-->8
--startup

function startgame()
 t=0
 --background vars
 mapfg_x=0 --foreground
 mapfg_spd=0--1
 map1_x=0
 map1_spd=0--0.33
 --player
 plrxspd=1
 plryspd=0
 plrx,plry=3*8,14*8
 plrani={1,2,3,4}
 --cannon
 --14*8=112
 cany0=108
 cany1=108
 --environment
 grvy=0.2

end
-->8
--updates

function upd_bg()
 mapfg_x-=mapfg_spd
 if mapfg_x<-127 then
  mapfg_x=0
 end
 map1_x-=map1_spd
 if map1_x<-127 then
  map1_x=0
 end

end

--allows adj and fire
function upd_cannon()
 local b=getbutton()
 
 if b==2 then 
  cany1-=1
 end
 if b==3 then 
  cany1+=1 
 end

end

--moves player after fire
function upd_game()

end

--show score at end of turn
function upd_showscore()

end


-->8
--drawing

function drw_bg()
 map(16,0,map1_x,0,16,16)
 map(16,0,map1_x+128,0,16,16)
 map(0,0,mapfg_x,0,16,16)
 map(0,0,mapfg_x+128,0,16,16)

end

function drw_plr()
 spr(1,plrx,plry)
end

function drw_cannon()
 line(8,cany0-2,24,cany1-2,6)
 line(8,cany0-1,24,cany1-1,13)
 line(8,cany0,24,cany1,5)
 line(8,cany0+1,24,cany1+1,13)
 line(8,cany0+2,24,cany1+2,6)
end

function drw_showscore()

end
-->8
--util

function getbutton()
 --0,1,2,3,4,5
 --‚¨ÖÔ∏è,‚û°Ô∏è,‚¨ÜÔ∏è,‚¨áÔ∏è,üÖæÔ∏è,‚ùé
 for i=0,5 do
  if btnp(i) then
   return i
  end
 end
 return -1
end
__gfx__
0000000000eeee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000eeeeee00e0000000e0000000e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700eee333ee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000eee3e3ee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000eee333ee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700eee3eeee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000ee3eee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000eeee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbb3bb3bbb3bbb0000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
493444b449b444340000000000008a80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4444494414444944000000000800b800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4494444444944444000000008a80b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
94144944944449440000000008b0b00000000e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4444444444444144a00000a000b0b000a0000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44494444444944440b00a00b000b00000b00b00b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5555555555555555040b000400030000030300040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000003000000000000000450000000000000000077000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000033300000000000000440000000000007700777770000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000033300000000000000940000000000076770077766000000000007700000000000000000000000000000000000000000000000000000000000000000000
00000333330000000000000440000000000767767077777000000006777777000000000000000000000000000000000000000000000000000000000000000000
00000333330000000000000440000000066767777776777000007777667777700000000000000000000000000000000000000000000000000000000000000000
00003333333000000000000440000000777777777767777007776777777766700000000000000000000000000000000000000000000000000000000000000000
00003333333000000000002240000000077767777767770077777677776677770000000000000000000000000000000000000000000000000000000000000000
00033333333300000000012444000000007776777777700077776777777777700000000000000000000000000000000000000000000000000000000000000000
00033333333300000000000000000000007777777777770007667777766777770000000000000000000000000000000000000000000000000000000000000000
00333333333330000000000000000000000777777777677077777777677677770000000000000000000000000000000000000000000000000000000000000000
00333333333330000000000000000000000076777766777077777777677777700000000000000000000000000000000000000000000000000000000000000000
03333333333333000000000000000000007777677677777707777007777770000000000000000000000000000000000000000000000000000000000000000000
03333333333333000000000000000000077777677777777700770000770700000000000000000000000000000000000000000000000000000000000000000000
33333333333333300000000000000000777776777777777000000000000000000000000000000000000000000000000000000000000000000000000000000000
33333333333333300000000000000000077767770077770000000000000000000000000000000000000000000000000000000000000000000000000000000000
33333333333333330000000000000000007777700007700000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000001010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000242500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000002425343500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000003435000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000262726270000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000363736370000242500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000343500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1200130000120000001214000000130000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1011101110111011101110111011101100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
