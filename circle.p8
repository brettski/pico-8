pico-8 cartridge // http://www.pico-8.com
version 22
__lua__

function _init()
 len=32 --r
 x0=64
 y0=64
 x1=x0+len
 y1=y0
 angle=0
 lines={}
end

function _update()
 local angle_c=5 --change per button press
 local angle0=angle --current angle
 if btnp(2) then
  angle=angle+angle_c
 end
 if btnp(3) then
  angle=angle-angle_c
 end
 local a0,a1
 if angle>angle0 then
  a0,a1=angle0,angle
 else 
  a0,a1=angle,angle0
 end
 for i=a0,a1 do
  a=i/360
  l={
   x=x0+cos(a)*len,
   y=y0+sin(a)*len,
   dur=40,
   c=i==a0 and 0 or 3
  }
  add(lines,l)
end
end

function _draw()
 cls(6)
 cursor(1,1,3)
 print("circle drawn clockwise")
 print("a:"..angle)
 for ln in all(lines) do
  line(x0,y0,ln.x,ln.y,ln.c)
  if ln.dur<1 then
   del(lines,ln)
  else
   ln.dur-=1
  end
 end
end
-->8
--note

--[[
https://stackoverflow.com/questions/3810768
https://www.drdobbs.com/architecture-and-design/fast-bitmap-rotation-and-scaling/184416337

]]--
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
