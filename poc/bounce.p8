pico-8 cartridge // http://www.pico-8.com
version 23
__lua__
--bounce
--by brettski

function _init()
 t=0
	bx=64
	by=8
	bdx=0
	bdy=1
	bd=7 --diameter
	bbncy=0.9 --bounciness 
	gvty=1
 drag=.01
 grnd=.8 --ground drag
	
	mapx=0
	mapy=0
	mapdx=1
	
	bysrt=by
	bymin=by
	bymax=by
	
	items={}
	itemy=115 --items y
 additem()
end

function _update60()
 t+=1
 bdy+=gvty
 
 by+=bdy
 if by > 119-bd then
  bdy*=-1
  bdy*=bbncy
  mapdx*=grnd
 end
 by=min(by,117)
 bystat()
 
 mapdx-=drag
 mapdx=max(mapdx,0)
 mapx-=mapdx
 if mapx<-127 then
  mapx=0
 end

	for it in all(items) do
	 it.x-=mapdx
	 if it.x<-32 then
	  del(items,it)
	 end
	end
 
 if btnp(❎) then
  mapdx=3
  bdy=-10
 end
 
end

function _draw()
	cls(12)
	cursor(1,1)
	color(6)
	print("min by:"..bymin)
	print("max by:"..bymax)
	print("by :"..by)
	print("bdy:"..bdy)
	print("mapdx:"..mapdx)
 print("item:"..#items)
	
	map(0,0,mapx,mapy)
	spr(1,bx,by)
	
	for it in all(items) do
	 print(it.x..","..itemy)
	 spr(it.snum,it.x,itemy,2,1)
	end
	
end
-->8
function bystat()
 if by >bymax then
  bymax=by
 end
 if by<bymin then
  bymin=by
 end
end
-->8
--add stuff

function additem()
 local i={
  snum=48,
  shit=50,
  sw=1,
  xmul=1.1,
  ymul=1.1,
  x=90
 }
 add(items,i)
end

function addtramp()
 s={48,50}
 
end
__gfx__
00000000004440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000044444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700449444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000494444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700044444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000004440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000300000003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
03003003030030030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
300b3030300b30300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
30303b3030303b300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
30303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
d0d0d0d0404040400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111111111111100000000000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
40000000000000044011000000001104000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
40000000000000044000110000110004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44000000000000444400001111000044000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44000000000000444400000000000044000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44000000000000444400000000000044000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101011111111111111111111111111111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
