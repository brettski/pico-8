pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
--magnetic
--brettski

function _init()
 t=0
 load_debug()
 load_globals()
 initplayer()
end

function _update60()
 t+=1
 dobutton()
end

function _draw()
 cls()
 drawplr()
 circ(20,30,1,12)
end
-->8
--player

function initplayer()
 plr={
 	spr=1,
 	x=64,
 	y=100,
 	magr=12,
 }
end

function dobutton()
 local butt = btn()
 if butt & 0x0001 == 1 then
  --⬅️
  moveplr(-1,0)
 end
 if butt & 0x0002 == 2 then
  --➡️
  moveplr(1,0)
 end
 if butt & 0x0004 == 4 then
  --⬆️
  moveplr(0,-1)
 end
 if butt & 0x0008 == 8 then
  --⬇️
  moveplr(0,1)
 end
--  moveplr(0,0)
-- end
 if butt & 0x0010 == 16 then
  --🅾️
 end 
 if butt & 0x0020 == 32 then
  --❎
 end 
end

function moveplr(_x,_y)
	plr.x+=_x*1.2
	plr.y+=_y*1.2
end

function drawplr()
 spr(plr.spr,plr.x,plr.y)
 circ(plr.x+3,plr.y+3,plr.magr,10)
end
-->8
--enemies


-->8
--pick-ups

function add_pickup()
 local pu={
  x=10+rnd(100),
  y=20+rnd(20),
  c=rnd({12,13,14,15}),
 }
 function pu:upd()
 	--col check
 	
 end
end
-->8
--notes
--[[
spawn an 'enemy'
add regular collision checks
 with magr
on collision move 'enemy' closer
 to the ship. initally straight
 line then we'll curve in

]]--
-->8
--game

function load_globals()
 
 pickups={}
 enemies={}
end

function load_debug()
 debug=true
 iscollide=false
end


-->8
--util

function colchk_2cir(_a,_b)
 local a=_a.x-_b.x
 local b=_a.y-_b.y
 local d=(a*a)+(b*b)
 return sqrt(d)<=_a.r+_b.r
end


__gfx__
00000000000880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000cc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000cc44000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000cc274400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000cc5aa5440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000c5995400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cc0990440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0006d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
006d5c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06d00cc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6d0000cc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
d500006d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0cc006d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00cc6d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000cd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
